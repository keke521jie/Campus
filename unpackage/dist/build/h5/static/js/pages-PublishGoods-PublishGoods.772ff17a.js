(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-PublishGoods-PublishGoods"],{"0ea3":function(e,t,a){"use strict";a.r(t);var n=a("9d4e"),i=a("6ecf");for(var s in i)"default"!==s&&function(e){a.d(t,e,(function(){return i[e]}))}(s);a("db72");var r,u=a("f0c5"),o=Object(u["a"])(i["default"],n["b"],n["c"],!1,null,"c23ce91e",null,!1,n["a"],r);t["default"]=o.exports},"2afc":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.publish_goods[data-v-c23ce91e]{width:100%;padding:%?20?%}.publish_goods .title[data-v-c23ce91e]{margin-bottom:%?20?%}.publish_goods .inp[data-v-c23ce91e]{margin-bottom:%?20?%}',""]),e.exports=t},"3b94":function(e,t,a){var n=a("2afc");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("1825ddbc",n,!0,{sourceMap:!1,shadowMode:!1})},"6ecf":function(e,t,a){"use strict";a.r(t);var n=a("bfcb"),i=a.n(n);for(var s in n)"default"!==s&&function(e){a.d(t,e,(function(){return n[e]}))}(s);t["default"]=i.a},"9d4e":function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return n}));var n={uniEasyinput:a("c610").default,uniFilePicker:a("058b").default,uniFab:a("089e").default},i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"publish_goods"},[a("uni-easyinput",{staticClass:"title",attrs:{placeholder:"请输入商品名称(必填)"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("uni-easyinput",{staticClass:"inp",attrs:{type:"textarea",placeholder:"请输入描述(可选)"},model:{value:e.describe,callback:function(t){e.describe=t},expression:"describe"}}),a("uni-easyinput",{staticClass:"title",attrs:{placeholder:"请输入价格(必填)"},model:{value:e.price,callback:function(t){e.price=t},expression:"price"}}),a("uni-easyinput",{staticClass:"title",attrs:{placeholder:"请输入卖家微信(必填)"},model:{value:e.userWx,callback:function(t){e.userWx=t},expression:"userWx"}}),a("uni-easyinput",{staticClass:"title",attrs:{placeholder:"请输入卖家电话(必填)"},model:{value:e.userPhone,callback:function(t){e.userPhone=t},expression:"userPhone"}}),a("uni-file-picker",{attrs:{limit:"9",title:"商品图片,最多选择9张图片(必填)",fileMediatype:"image",mode:"grid"},on:{select:function(t){arguments[0]=t=e.$handleEvent(t),e.select.apply(void 0,arguments)},delete:function(t){arguments[0]=t=e.$handleEvent(t),e.del.apply(void 0,arguments)}}}),a("uni-fab",{attrs:{horizontal:"right",vertical:"bottom",popMenu:!0,content:e.content},on:{trigger:function(t){arguments[0]=t=e.$handleEvent(t),e.trigger.apply(void 0,arguments)}}})],1)},s=[]},bfcb:function(e,t,a){"use strict";var n=a("4ea4");a("99af"),a("4de4"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("96cf");var i=n(a("1da1")),s=n(a("2909")),r={data:function(){return{name:"",describe:"",userWx:"",userPhone:"",goods_type_id:"",price:"",imageList:[],content:[{text:"发表"}]}},onLoad:function(e){this.goods_type_id=e.id},methods:{select:function(e){this.imageList=[].concat((0,s.default)(this.imageList),(0,s.default)(e.tempFilePaths))},del:function(e){var t=this.imageList.filter((function(t){return t!==e.tempFilePath}));this.imageList=t},trigger:function(e){var t=this;return(0,i.default)(regeneratorRuntime.mark((function a(){var n,i,s,r,u,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(0===e.index){a.next=2;break}return a.abrupt("return");case 2:if(n=/^1[3456789]\d{9}$/,n.test(t.userPhone)){a.next=6;break}return uni.showToast({title:"手机号都糊弄你是来捣乱的吧!"}),a.abrupt("return");case 6:if(""!=t.name&&""!=t.userWx&&""!=t.userPhone&&""!=t.price){a.next=9;break}return uni.showToast({title:"该写的写一下啊!"}),a.abrupt("return");case 9:i="",s=0,0==t.imageList.length&&uni.showToast({title:"请选择图片！"}),r=0;case 13:if(!(r<t.imageList.length)){a.next=32;break}return a.next=16,t.$myUpload({url:"/my/upload/goodsimg",filePath:"".concat(t.imageList[r]),name:"goods_pic"});case 16:if(u=a.sent,0!=JSON.parse(u.data).status){a.next=21;break}i=i+"#"+JSON.parse(u.data).data,a.next=23;break;case 21:return uni.showToast({title:"发布失败！"}),a.abrupt("return");case 23:if(s++,s!=t.imageList.length){a.next=29;break}return a.next=27,t.$myRequest({url:"/my/publishgoods",method:"POST",data:{goods_type_id:t.goods_type_id,name:t.name,describe:t.describe,goods_img:i,user_vx:t.userWx,price:t.price,user_phone:t.userPhone}});case 27:o=a.sent,0==o.data.status?(uni.showToast({title:"发布成功！"}),uni.navigateBack(1)):uni.showToast({title:"发布失败！请重试！"});case 29:r++,a.next=13;break;case 32:case"end":return a.stop()}}),a)})))()}}};t.default=r},db72:function(e,t,a){"use strict";var n=a("3b94"),i=a.n(n);i.a}}]);