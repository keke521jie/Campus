(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-PublishNews-PublishNews"],{"35e5":function(t,e,n){"use strict";var a=n("3ddd"),i=n.n(a);i.a},"3ddd":function(t,e,n){var a=n("b98a");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("48009fc5",a,!0,{sourceMap:!1,shadowMode:!1})},"92c6":function(t,e,n){"use strict";n.r(e);var a=n("ea79"),i=n("d7fb");for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);n("35e5");var r,u=n("f0c5"),o=Object(u["a"])(i["default"],a["b"],a["c"],!1,null,"a1591f7a",null,!1,a["a"],r);e["default"]=o.exports},b98a:function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.publish_news[data-v-a1591f7a]{width:100%;padding:%?20?%}.publish_news .title[data-v-a1591f7a]{margin-bottom:%?20?%}.publish_news .inp[data-v-a1591f7a]{margin-bottom:%?20?%}',""]),t.exports=e},cf4d:function(t,e,n){"use strict";var a=n("4ea4");n("99af"),n("4de4"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var i=a(n("1da1")),s=a(n("2909")),r={data:function(){return{title:"",content:"",imageList:[],news_type_id:"",Content:[{text:"发表"}]}},onLoad:function(t){this.news_type_id=t.id},methods:{select:function(t){this.imageList=[].concat((0,s.default)(this.imageList),(0,s.default)(t.tempFilePaths))},del:function(t){var e=this.imageList.filter((function(e){return e!==t.tempFilePath}));this.imageList=e},trigger:function(t){var e=this;return(0,i.default)(regeneratorRuntime.mark((function n(){var a,i,s,r,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(0===t.index){n.next=2;break}return n.abrupt("return");case 2:if(""!=e.title&&""!=e.content){n.next=5;break}return uni.showToast({title:"该写的写一下啊!"}),n.abrupt("return");case 5:a="",i=0,0==e.imageList.length&&uni.showToast({title:"请选择图片！"}),s=0;case 9:if(!(s<e.imageList.length)){n.next=28;break}return n.next=12,e.$myUpload({url:"/my/upload/newsimg",filePath:"".concat(e.imageList[s]),name:"news_pic"});case 12:if(r=n.sent,0!=JSON.parse(r.data).status){n.next=17;break}a=a+"#"+JSON.parse(r.data).data,n.next=19;break;case 17:return uni.showToast({title:"发布失败！"}),n.abrupt("return");case 19:if(i++,i!=e.imageList.length){n.next=25;break}return n.next=23,e.$myRequest({url:"/my/addnewsnote",method:"POST",data:{title:e.title,content:e.content,img_list:a,news_type_id:e.news_type_id}});case 23:u=n.sent,0==u.data.status?(uni.showToast({title:"发布成功！"}),uni.navigateBack(1)):uni.showToast({title:"发布失败！请重试！"});case 25:s++,n.next=9;break;case 28:case"end":return n.stop()}}),n)})))()}}};e.default=r},d7fb:function(t,e,n){"use strict";n.r(e);var a=n("cf4d"),i=n.n(a);for(var s in a)"default"!==s&&function(t){n.d(e,t,(function(){return a[t]}))}(s);e["default"]=i.a},ea79:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return a}));var a={uniEasyinput:n("c610").default,uniFilePicker:n("058b").default,uniFab:n("089e").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"publish_news"},[n("uni-easyinput",{staticClass:"title",attrs:{placeholder:"请输入新鲜事标题(必填)"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),n("uni-easyinput",{staticClass:"content",attrs:{type:"textarea",placeholder:"请输入新鲜事内容(必填)"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),n("uni-file-picker",{attrs:{limit:"9",title:"新鲜图片,最多选择9张图片",fileMediatype:"image",mode:"grid"},on:{select:function(e){arguments[0]=e=t.$handleEvent(e),t.select.apply(void 0,arguments)},delete:function(e){arguments[0]=e=t.$handleEvent(e),t.del.apply(void 0,arguments)}}}),n("uni-fab",{attrs:{horizontal:"right",vertical:"bottom",popMenu:!0,content:t.Content},on:{trigger:function(e){arguments[0]=e=t.$handleEvent(e),t.trigger.apply(void 0,arguments)}}})],1)},s=[]}}]);